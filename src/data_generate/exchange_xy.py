from decimal import Decimal, ROUND_HALF_UP

def dms_to_decimal(degrees, minutes, seconds):
    """Convert DMS to decimal degrees with rounding."""
    decimal_degrees = Decimal(degrees) + Decimal(minutes)/60 + Decimal(seconds)/3600
    # 保留四位小数并四舍五入
    return decimal_degrees.quantize(Decimal('0.0001'), rounding=ROUND_HALF_UP)

def convert_locations(locations):
    """Convert a list of locations with DMS coordinates to decimal degrees."""
    converted_locations = []
    for name, category, lat_dms, lon_dms, priority in locations:
        lat_degrees, lat_minutes, lat_seconds = lat_dms
        lon_degrees, lon_minutes, lon_seconds = lon_dms
        lat_decimal = dms_to_decimal(lat_degrees, lat_minutes, lat_seconds)
        lon_decimal = dms_to_decimal(lon_degrees, lon_minutes, lon_seconds)
        converted_locations.append((name, category, float(lat_decimal), float(lon_decimal), priority))
    return converted_locations

# 示例数据
data_dms = [
("板桥", "居民区", (39, 56, 42), (115, 53, 21), 92),
("百花山", "景点", (39, 51, 22), (115, 36, 39), 100),
("安家庄", "居民区", (40, 0, 20), (115, 56, 17), 125),
("安定", "居民区", (39, 37, 3), (116, 29, 22), 130),
("五道口", "居民区", (39, 59, 33), (116, 19, 55), 88),
("故宫", "景点", (39, 55, 0), (116, 23, 26), 83),
("城北", "居民区", (40, 13, 22), (116, 14, 45), 141),
("李营", "居民区", (40, 57, 40), (116, 28, 44), 105),
("郑棚子", "居民区", (40, 53, 38), (116, 22, 0), 102),
("龙山", "居民区", (40, 19, 12), (116, 37, 44), 115),
("立垡村", "居民区", (39, 46, 24), (116, 15, 15), 145),
("八各庄", "居民区", (39, 52, 24), (116, 45, 46), 134),
("南刘各庄", "居民区", (39, 52, 48), (116, 45, 20), 90),
("喇嘛庄", "居民区", (39, 57, 30), (116, 43, 55), 121),
("师故庄", "居民区", (39, 54, 51), (116, 45, 36), 132),
("北刘各庄", "居民区", (39, 55, 36), (116, 45, 36), 84),
("高马庄", "居民区", (39, 59, 19), (116, 45, 8), 101),
("薛各庄", "居民区", (40, 7, 41), (116, 44, 10), 112),
("赵全营", "居民区", (40, 12, 45), (116, 35, 41), 133),
("万寿路", "居民区", (39, 54, 22), (116, 15, 46), 95),
("永定路", "居民区", (39, 54, 36), (116, 15, 49), 130),
("白草畔", "景点", (39, 48, 44), (115, 33, 47), 124),
("大峪", "居民区", (39, 56, 15), (116, 5, 48), 142),
("八宝山", "居民区", (39, 54, 2), (116, 13, 50), 91),
("鲁谷", "居民区", (39, 53, 48), (116, 13, 13), 106),
("景山", "居民区", (39, 55, 31), (116, 24, 14), 103),
("金融街", "居民区", (39, 54, 44), (116, 21, 22), 147),
("龙潭", "居民区", (39, 53, 1), (116, 25, 36), 128),
("朝外", "居民区", (39, 55, 5), (116, 25, 56), 132),
("拱辰", "居民区", (39, 43, 40), (116, 8, 15), 148),
("北苑", "居民区", (39, 54, 13), (116, 38, 48), 92),
("胜利", "居民区", (40, 7, 5), (116, 38, 34), 114),
("兴丰", "居民区", (39, 43, 46), (116, 20, 11), 109),
("滨河", "居民区", (40, 8, 0), (117, 6, 30), 95),
("鼓楼", "居民区", (40, 22, 11), (116, 50, 0), 125),
("芦子水", "居民区", (39, 46, 42), (115, 28, 15), 98),
("关上", "居民区", (40, 21, 18), (117, 11, 9), 127),
("黄村", "居民区", (39, 43, 39), (116, 19, 52), 103),
("马坊", "居民区", (40, 4, 47), (117, 0, 35), 114),
("龙峪沟门", "居民区", (40, 40, 30), (117, 11, 9), 127),
("上甸村", "居民区", (40, 55, 53), (116, 41, 38), 96),
("七级村", "居民区", (39, 53, 18), (116, 45, 22), 88),
("马坊村", "居民区", (39, 49, 28), (116, 49, 34), 104),
("塔洼村", "居民区", (40, 16, 58), (117, 15, 48), 136),
("潮关村", "居民区", (40, 40, 40), (117, 7, 25), 95),
("河西村", "居民区", (40, 41, 16), (117, 8, 43), 129),
("北水峪村", "居民区", (40, 21, 21), (117, 13, 43), 117),
("北干沟村", "居民区", (40, 49, 21), (116, 49, 57), 91),
("小东沟村", "居民区", (40, 12, 4), (117, 20, 59), 120),
("墙子路村", "居民区", (40, 25, 22), (117, 12, 44), 133),
("茅山后村", "居民区", (40, 13, 10), (117, 18, 24), 105),
("下栅子村", "居民区", (40, 24, 5), (117, 11, 28), 148),
("朱棉沟村", "居民区", (40, 54, 12), (116, 20, 57), 98),
("白羊石虎村", "居民区", (40, 6, 35), (115, 36, 43), 131),
("杨树河村", "居民区", (40, 35, 42), (115, 54, 53), 137),
("红石门村", "居民区", (40, 13, 3), (117, 21, 26), 134),
("东前营村", "居民区", (39, 52, 12), (116, 48, 48), 115),
("新东仪村", "居民区", (39, 49, 9), (116, 54, 0), 121),
("罗汉石村", "居民区", (40, 9, 40), (117, 20, 28), 110),
("上堡子村", "居民区", (40, 10, 47), (117, 21, 38), 96),
("北沟村", "居民区", (40, 25, 30), (117, 13, 34), 89),
("南响水峪村", "居民区", (40, 41, 31), (116, 55, 21), 144),
("韭山村", "居民区", (40, 3, 31), (115, 31, 59), 86),
("四道河村", "居民区", (40, 53, 31), (116, 25, 8), 135),
("北石门村", "居民区", (40, 51, 4), (116, 45, 1), 119),
("寺上村", "居民区", (40, 3, 35), (115, 32, 59), 138),
("玻璃台村", "居民区", (40, 19, 38), (117, 13, 37), 93),
("后河槽村", "居民区", (40, 14, 28), (117, 16, 55), 143),
("狗背岭根村", "居民区", (40, 19, 15), (117, 15, 6), 140),
("郑栅子村", "居民区", (40, 54, 43), (116, 21, 6), 124),
("下栅子村", "居民区", (40, 52, 35), (116, 22, 53), 130),
("鹿叫村", "居民区", (40, 44, 48), (116, 22, 20), 103),
("干峪沟村", "居民区", (40, 28, 33), (117, 12, 33), 101),
("温栅子村", "居民区", (40, 53, 40), (116, 21, 54), 105),
("兴隆庄村", "居民区", (39, 37, 16), (116, 49, 11), 116),
("协各庄村", "居民区", (39, 49, 43), (116, 51, 28), 84),
("上窝铺村", "居民区", (40, 48, 31), (116, 51, 43), 142),
("中心村", "居民区", (40, 14, 18), (117, 19, 20), 108),
("七道梁村", "居民区", (40, 49, 16), (116, 48, 23), 107),
("二道沟村", "居民区", (40, 39, 39), (117, 21, 8), 125),
("梨树沟村", "居民区", (40, 17, 23), (117, 14, 2), 102),
("头道沟村", "居民区", (40, 39, 33), (117, 20, 44), 123),
("核桃洼村", "居民区", (40, 22, 0), (117, 11, 20), 115),
("水泉沟村", "居民区", (40, 45, 54), (116, 54, 40), 134),
("西驼古村", "居民区", (40, 41, 6), (116, 57, 18), 112),
("堆金台村", "居民区", (39, 46, 54), (115, 32, 17), 91),
("催家峪村", "居民区", (40, 39, 15), (117, 22, 16), 95)

]

# 转换数据
converted_data = convert_locations(data_dms)

# 打印转换后的数据
for location in converted_data:
    print(f'("{location[0]}", "{location[1]}", {location[2]:.4f}, {location[3]:.4f}, {location[4]}),')
